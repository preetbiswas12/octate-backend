# Collaboration Backend Production Environment Configuration
# Copy this file to .env and fill in the values for production deployment

# =====================================
# CORE SERVER SETTINGS
# =====================================

# Environment
NODE_ENV=production

# Server port (automatically set by hosting platforms)
PORT=3000

# =====================================
# SUPABASE CONFIGURATION
# =====================================

# Supabase connection settings
SUPABASE_URL=https://diijislhtmsbtvwecfdr.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRpaWppc2xodG1zYnR2d2VjZmRyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwNTc5MzksImV4cCI6MjA3NDYzMzkzOX0.6hTg0iaLhp6Ig-FSkJVjQ6jPxoGzrOTr9pyvgyWngwc
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRpaWppc2xodG1zYnR2d2VjZmRyIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTA1NzkzOSwiZXhwIjoyMDc0NjMzOTM5fQ.gJEH_1pkQrJ1YLGZjd-zuwLQN1NFTbVcuriL3PZmtRo

# =====================================
# APPLICATION URLS
# =====================================

# Frontend URL (where the main Octate IDE is hosted)
FRONTEND_URL=https://octate.qzz.io

# OAuth redirect URI
OAUTH_REDIRECT_URI=https://octate.qzz.io/auth/callback

# =====================================
# SECURITY SETTINGS
# =====================================

# JWT secret for token signing
JWT_SECRET=octate-super-secret-jwt-key-for-production-use-32-chars-minimum

# CORS allowed origins
CORS_ORIGIN=https://octate.qzz.io,https://www.octate.qzz.io

# Maximum request size
MAX_REQUEST_SIZE=10mb

# =====================================
# OAUTH PROVIDER SETTINGS
# =====================================

# GitHub OAuth
GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# Microsoft OAuth
MICROSOFT_CLIENT_ID=your_microsoft_client_id_here
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret_here

# =====================================
# REDIS CONFIGURATION (OPTIONAL)
# =====================================

# Redis URL for session storage and caching
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_secure_redis_password_here

# =====================================
# MONITORING & LOGGING
# =====================================

# Sentry DSN for error tracking
SENTRY_DSN=your_sentry_dsn_here

# Log level
LOG_LEVEL=info

# =====================================
# DEPLOYMENT PLATFORM VARIABLES
# =====================================

# These are set automatically by hosting platforms
# RENDER_EXTERNAL_URL (set by Render)
# VERCEL_URL (set by Vercel)
# RAILWAY_PUBLIC_DOMAIN (set by Railway)

# =====================================
# FEATURE FLAGS
# =====================================

# Enable/disable features in production
COLLABORATION_ENABLED=true
REALTIME_ENABLED=true
AUTH_ENABLED=true
RATE_LIMITING_ENABLED=true
CORS_ENABLED=true

# =====================================
# PERFORMANCE SETTINGS
# =====================================

# Socket.IO settings
SOCKET_IO_TRANSPORTS=websocket,polling
SOCKET_IO_PING_TIMEOUT=60000
SOCKET_IO_PING_INTERVAL=25000

# Database connection pool
DB_POOL_MIN=2
DB_POOL_MAX=10

# Request timeout
REQUEST_TIMEOUT=30000

# Rate Limiting (Adjust based on expected load)
RATE_LIMIT_REQUESTS=500
RATE_LIMIT_WINDOW=900000

# WebSocket Configuration
WS_PORT=8080
WS_HEARTBEAT_INTERVAL=30000

# Performance Tuning
MAX_PARTICIPANTS_PER_ROOM=20
OPERATION_CLEANUP_INTERVAL=3600000
